name: ğŸ§ª Test Suite

on: [pull_request]

permissions:
  contents: read

jobs:
  # This workflow orchestrates all test jobs
  # Individual test jobs are defined in separate files for better maintainability
  
  check-workflows:
    name: ğŸ“‹ Validate Workflow Files
    runs-on: ubuntu-latest
    steps:
      - name: "ğŸ“¦ Checkout ${{ github.ref }} ( ${{ github.sha }} )"
        uses: actions/checkout@v5
      
      - name: âœ… Check workflow syntax
        run: |
          echo "ğŸ” Validating workflow files..."
          for file in .github/workflows/*.yml .github/workflows/*.yaml; do
            if [ -f "$file" ]; then
              echo "Checking $file"
              # Basic YAML syntax check
              python -c "import yaml; yaml.safe_load(open('$file'))" || exit 1
            fi
          done
          echo "âœ… All workflow files are valid!"

  # Reference other test jobs (they run independently via their own triggers)
  test-summary:
    name: ğŸ“Š Test Summary
    runs-on: ubuntu-latest
    needs: [check-workflows]
    if: always()
    steps:
      - name: ğŸ“‹ Test Results Summary
        run: |
          echo "ğŸ§ª Test Suite Overview:"
          echo "â”œâ”€â”€ ğŸš€ Bun Tests: Defined in bun.yml"
          echo "â”œâ”€â”€ ğŸ“ Pre-commit Checks: Defined in pre-commit.yml"
          echo "â”œâ”€â”€ ğŸ“‚ Git Clone Tests: Defined in test-git-clone.yml"
          echo "â””â”€â”€ ğŸŒ Deploy: Defined in deploy.yml"
          echo ""
          echo "âœ… All workflow files are properly configured!"
          echo "ğŸ“‹ Individual test results are tracked in their respective workflows."